{% extends 'main_page/base.html' %}

{% block content %}
<main class="content post_style">
    <section class="wrap_post {% if not post.image %} ptb-30 {% endif %}">
        {% if post.image %}
        <img class="preview_img" src="{{ post.image.url }}" alt="post_image">
        <div class="line_parent">
            <div class="line"
                 style="background: {{ post.line.color }};"></div>
            <a href="{{ post.line.get_absolute_url }}">
                <div class="circle circle_a" style="background: {{ post.line.color }}">
                    <p style="color: {{ post.line.color_text }};">{{ post.line.number }}</p>
                </div>
            </a>
        </div>
        {% else %}
        <div class="line_parent mt20">
            <div class="line"
                 style="background: linear-gradient(90deg, rgba(0,0,0,0) 0%, {{ post.line.color }} 10%, {{ post.line.color }} 90%, rgba(0,0,0,0) 100%);"></div>
            <a href="{{ post.line.get_absolute_url }}">
                <div class="circle circle_a" style="background: {{ post.line.color }}">
                    <p style="color: {{ post.line.color_text }};">{{ post.line.number }}</p>
                </div>
            </a>
        </div>
        {% endif %}
        <div class="wrap_text">
            <h1>{{ post.title }}</h1>
            <div class="post">
                <p> {{ post.content | safe | linebreaksbr }}</p>
            </div>
            <div class="date_post">
                <span>{{ post.owner.username }}</span>
                <span>{{ post.time_update }}</span>
                {% if post.source %}
                <a href="{{ post.source }}" target="_blank" class="date_source">
                    <span>Ссылка на источник:</span>
                </a>
                {% endif %}
            </div>
        </div>
    </section>
</main>
{% endblock %}